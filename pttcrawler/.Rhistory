666-66
4*3
9/3
9%%5
apple<-5
class(apple)
banana<-"好吃"
sisters<-c(6,8,10)
fruit<-c("watermelon","pineapple","orange")
names(sisters)<-c("小花","小美","小芒果")
sisters
pon<-c(6,6,6)
mei<-c(8,8,12)
total<-pon+mei
total
sum(mei)
mei>pon
mei[3]
mei[c(1,2,3)]
mei[c(1:3)]
names(mei)<-c("us","tw","gold")
mei[c("us","gold")]
mean(mei)
bigthan10<-mei>10
mei[bigthan10]
yee<-c(80,100)
lon<-c(90,90)
fon<-c(60,120)
property<-matrix(c(yee,lon,fon),byrow=TRUE,nrow=3)
property
keeper<-c("yee","lon","fon")
mine<-c("gold","diamond")
rownames(property)<-keeper
colnames(property)<-mine
property
eachoneproperty<-rowSums(property)
eachoneproperty
big_property<-cbind(property,eachoneproperty)
big_property
tsai<-c(20,160)
fourkeeper<-rbind(property,tsai)
fourkeeper
ls()
minetotal<-colSums(property)
minetotal
money<-property*10000
money
price<-c(20,600)
true_money<-property*price
true_money
gender_vector<-c("Male","Female","Female","Male","Male")
factor_gender_vector<-factor(gender_vector)
factor_gender_vector
levels(factor_gender_vector)<-c("F","M")
factor_gender_vector
summary(gender_vector)
summary(factor_gender_vector)
66+666
666-66
4*3
9/3
9%%5
apple<-5
class(apple)
banana<-"好吃"
sisters<-c(6,8,10)
fruit<-c("watermelon","pineapple","orange")
names(sisters)<-c("小花","小美","小芒果")
sisters
pon<-c(6,6,6)
mei<-c(8,8,12)
total<-pon+mei
total
sum(mei)
mei>pon
mei[3]
mei[c(1,2,3)]
mei[c(1:3)]
names(mei)<-c("us","tw","gold")
mei[c("us","gold")]
mean(mei)
bigthan10<-mei>10
mei[bigthan10]
yee<-c(80,100)
lon<-c(90,90)
fon<-c(60,120)
property<-matrix(c(yee,lon,fon),byrow=TRUE,nrow=3)
property
keeper<-c("yee","lon","fon")
mine<-c("gold","diamond")
rownames(property)<-keeper
colnames(property)<-mine
property
eachoneproperty<-rowSums(property)
eachoneproperty
big_property<-cbind(property,eachoneproperty)
big_property
tsai<-c(20,160)
fourkeeper<-rbind(property,tsai)
fourkeeper
ls()
minetotal<-colSums(property)
minetotal
money<-property*10000
money
price<-c(20,600)
true_money<-property*price
true_money
gender_vector<-c("Male","Female","Female","Male","Male")
factor_gender_vector<-factor(gender_vector)
factor_gender_vector
levels(factor_gender_vector)<-c("F","M")
factor_gender_vector
summary(gender_vector)
summary(factor_gender_vector)
speed<-c("fast","slow","slow","fast","insane")
66+666
666-66
4*3
9/3
9%%5
apple<-5
class(apple)
banana<-"好吃"
sisters<-c(6,8,10)
fruit<-c("watermelon","pineapple","orange")
names(sisters)<-c("小花","小美","小芒果")
sisters
pon<-c(6,6,6)
mei<-c(8,8,12)
total<-pon+mei
total
sum(mei)
mei>pon
mei[3]
mei[c(1,2,3)]
mei[c(1:3)]
names(mei)<-c("us","tw","gold")
mei[c("us","gold")]
mean(mei)
bigthan10<-mei>10
mei[bigthan10]
yee<-c(80,100)
lon<-c(90,90)
fon<-c(60,120)
property<-matrix(c(yee,lon,fon),byrow=TRUE,nrow=3)
property
keeper<-c("yee","lon","fon")
mine<-c("gold","diamond")
rownames(property)<-keeper
colnames(property)<-mine
property
eachoneproperty<-rowSums(property)
eachoneproperty
big_property<-cbind(property,eachoneproperty)
big_property
tsai<-c(20,160)
fourkeeper<-rbind(property,tsai)
fourkeeper
ls()
minetotal<-colSums(property)
minetotal
money<-property*10000
money
price<-c(20,600)
true_money<-property*price
true_money
gender_vector<-c("Male","Female","Female","Male","Male")
factor_gender_vector<-factor(gender_vector)
factor_gender_vector
levels(factor_gender_vector)<-c("F","M")
factor_gender_vector
summary(gender_vector)
summary(factor_gender_vector)
speed<-c("fast","slow","slow","fast","insane")
66+666
666-66
4*3
9/3
9%%5
apple<-5
class(apple)
banana<-"好吃"
sisters<-c(6,8,10)
fruit<-c("watermelon","pineapple","orange")
names(sisters)<-c("小花","小美","小芒果")
sisters
pon<-c(6,6,6)
mei<-c(8,8,12)
total<-pon+mei
total
sum(mei)
mei>pon
mei[3]
mei[c(1,2,3)]
mei[c(1:3)]
names(mei)<-c("us","tw","gold")
mei[c("us","gold")]
mean(mei)
bigthan10<-mei>10
mei[bigthan10]
yee<-c(80,100)
lon<-c(90,90)
fon<-c(60,120)
property<-matrix(c(yee,lon,fon),byrow=TRUE,nrow=3)
property
keeper<-c("yee","lon","fon")
mine<-c("gold","diamond")
rownames(property)<-keeper
colnames(property)<-mine
property
eachoneproperty<-rowSums(property)
eachoneproperty
big_property<-cbind(property,eachoneproperty)
big_property
tsai<-c(20,160)
fourkeeper<-rbind(property,tsai)
fourkeeper
ls()
minetotal<-colSums(property)
minetotal
money<-property*10000
money
price<-c(20,600)
true_money<-property*price
true_money
gender_vector<-c("Male","Female","Female","Male","Male")
factor_gender_vector<-factor(gender_vector)
factor_gender_vector
levels(factor_gender_vector)<-c("F","M")
factor_gender_vector
summary(gender_vector)
summary(factor_gender_vector)
speed<-c("fast","slow","slow","fast","insane")
factor_speed<-factor(speed,ordered=TRUE,levels=c("slow","fast","insane"))
factor_speed
66+666
666-66
4*3
9/3
9%%5
apple<-5
class(apple)
banana<-"好吃"
sisters<-c(6,8,10)
fruit<-c("watermelon","pineapple","orange")
names(sisters)<-c("小花","小美","小芒果")
sisters
pon<-c(6,6,6)
mei<-c(8,8,12)
total<-pon+mei
total
sum(mei)
mei>pon
mei[3]
mei[c(1,2,3)]
mei[c(1:3)]
names(mei)<-c("us","tw","gold")
mei[c("us","gold")]
mean(mei)
bigthan10<-mei>10
mei[bigthan10]
library(XML)
library(xml2)
library(rvest)
library(httr)
library(dplyr)
library(RCurl)
from <- 39507
to   <- 39508
prefix = "https://www.ptt.cc/bbs/Gossiping/index"
data <- list()
for( id in c(from:to) )
{
url  <- paste0( prefix, as.character(id), ".html" )
html <-htmlParse( GET(url,set_cookies(over18 = 1)) )
url.list <- xpathSApply( html, "//div[@class='title']/a[@href]", xmlAttrs )
data <- rbind( data, as.matrix(paste('https://www.ptt.cc', url.list, sep='')) )
}
data <- unlist(data)
getdoc <- function(url)
{
get<-GET(url,config=set_cookies("over18"="1"))
get_txt<-content(get,"text")
html<-htmlParse(get_txt)
doc  <- xpathSApply( html, "//div[@id='main-content']", xmlValue )
time <- xpathSApply( html, "//*[@id='main-content']/div[4]/span[2]", xmlValue )
temp <- gsub( "  ", " 0", unlist(time) )
part <- strsplit( temp, split=" ", fixed=T )
date <- paste(part[[1]][2], part[[1]][3], part[[1]][5], sep="-")
timestamp <- part[[1]][4]
timestamp <- strsplit( timestamp, split=":", fixed=T )
as.character(timestamp)
name <- paste0('C:/Users/user/Desktop/codingsite/ntu-cs-x/pttcrawler/gossip',date,timestamp, ".txt")
write(doc, name)
}
file.exists('C:/Users/user/Desktop/codingsite/ntu-cs-x/pttcrawler/gossip/')
file.exists('C:/Users/user/Desktop/codingsite/ntu-cs-x/pttcrawler/gossip')
library(XML)
library(xml2)
library(rvest)
library(httr)
library(dplyr)
library(RCurl)
from <- 39507
to   <- 39508
prefix = "https://www.ptt.cc/bbs/Gossiping/index"
data <- list()
for( id in c(from:to) )
{
url  <- paste0( prefix, as.character(id), ".html" )
html <-htmlParse( GET(url,set_cookies(over18 = 1)) )
url.list <- xpathSApply( html, "//div[@class='title']/a[@href]", xmlAttrs )
data <- rbind( data, as.matrix(paste('https://www.ptt.cc', url.list, sep='')) )
}
data <- unlist(data)
getdoc <- function(url)
{
get<-GET(url,config=set_cookies("over18"="1"))
get_txt<-content(get,"text")
html<-htmlParse(get_txt)
doc  <- xpathSApply( html, "//div[@id='main-content']", xmlValue )
time <- xpathSApply( html, "//*[@id='main-content']/div[4]/span[2]", xmlValue )
temp <- gsub( "  ", " 0", unlist(time) )
part <- strsplit( temp, split=" ", fixed=T )
date <- paste(part[[1]][2], part[[1]][3], part[[1]][5], sep="-")
timestamp <- part[[1]][4]
timestamp <- strsplit( timestamp, split=":", fixed=T )
as.character(timestamp)
name <- paste0('C:/Users/user/Desktop/codingsite/ntu-cs-x/pttcrawler/gossip/',date,timestamp, ".txt")
write(doc, name)
}
library(XML)
library(xml2)
library(rvest)
library(httr)
library(dplyr)
library(RCurl)
from <- 39507
to   <- 39508
prefix = "https://www.ptt.cc/bbs/Gossiping/index"
data <- list()
for( id in c(from:to) )
{
url  <- paste0( prefix, as.character(id), ".html" )
html <-htmlParse( GET(url,set_cookies(over18 = 1)) )
url.list <- xpathSApply( html, "//div[@class='title']/a[@href]", xmlAttrs )
data <- rbind( data, as.matrix(paste('https://www.ptt.cc', url.list, sep='')) )
}
data <- unlist(data)
getdoc <- function(url)
{
get<-GET(url,config=set_cookies("over18"="1"))
get_txt<-content(get,"text")
html<-htmlParse(get_txt)
doc  <- xpathSApply( html, "//div[@id='main-content']", xmlValue )
time <- xpathSApply( html, "//*[@id='main-content']/div[4]/span[2]", xmlValue )
temp <- gsub( "  ", " 0", unlist(time) )
part <- strsplit( temp, split=" ", fixed=T )
date <- paste(part[[1]][2], part[[1]][3], part[[1]][5], sep="-")
timestamp <- part[[1]][4]
timestamp <- strsplit( timestamp, split=":", fixed=T )
as.character(timestamp)
name <- paste0('C:/Users/user/Desktop/codingsite/ntu-cs-x/pttcrawler/gossip/',date,timestamp, ".txt")
write(doc, name)
}
sapply(data, getdoc)
setwd("C:/Users/user/Desktop/codingsite/ntu-cs-x/pttcrawler")
file.exists('C:/Users/user/Desktop/codingsite/ntu-cs-x/pttcrawler/gossip')
file.exists('C:/pttcrawler/gossip')
file.exists('/pttcrawler/gossip')
file.exists('C:/pttcrawler/gossip')
file.exists('/pttcrawler/')
file.exists('C:/Users/user/Desktop/codingsite/ntu-cs-x/pttcrawler/gossip')
library(XML)
library(xml2)
library(rvest)
library(httr)
library(dplyr)
library(RCurl)
from <- 39507
to   <- 39508
prefix = "https://www.ptt.cc/bbs/Gossiping/index"
data <- list()
for( id in c(from:to) )
{
url  <- paste0( prefix, as.character(id), ".html" )
html <-htmlParse( GET(url,set_cookies(over18 = 1)) )
url.list <- xpathSApply( html, "//div[@class='title']/a[@href]", xmlAttrs )
data <- rbind( data, as.matrix(paste('https://www.ptt.cc', url.list, sep='')) )
}
data <- unlist(data)
getdoc <- function(url)
{
get<-GET(url,config=set_cookies("over18"="1"))
get_txt<-content(get,"text")
html<-htmlParse(get_txt)
doc  <- xpathSApply( html, "//div[@id='main-content']", xmlValue )
time <- xpathSApply( html, "//*[@id='main-content']/div[4]/span[2]", xmlValue )
temp <- gsub( "  ", " 0", unlist(time) )
part <- strsplit( temp, split=" ", fixed=T )
date <- paste(part[[1]][2], part[[1]][3], part[[1]][5], sep="-")
timestamp <- part[[1]][4]
timestamp <- strsplit( timestamp, split=":", fixed=T )
as.character(timestamp)
name <- paste0('C:/Users/user/Desktop/codingsite/ntu-cs-x/pttcrawler/gossip',date,timestamp, ".txt")
write(doc, name)
}
library(XML)
library(xml2)
library(rvest)
library(httr)
library(dplyr)
library(RCurl)
from <- 39507
to   <- 39508
prefix = "https://www.ptt.cc/bbs/Gossiping/index"
data <- list()
for( id in c(from:to) )
{
url  <- paste0( prefix, as.character(id), ".html" )
html <-htmlParse( GET(url,set_cookies(over18 = 1)) )
url.list <- xpathSApply( html, "//div[@class='title']/a[@href]", xmlAttrs )
data <- rbind( data, as.matrix(paste('https://www.ptt.cc', url.list, sep='')) )
}
data <- unlist(data)
getdoc <- function(url)
{
get<-GET(url,config=set_cookies("over18"="1"))
get_txt<-content(get,"text")
html<-htmlParse(get_txt)
doc  <- xpathSApply( html, "//div[@id='main-content']", xmlValue )
time <- xpathSApply( html, "//*[@id='main-content']/div[4]/span[2]", xmlValue )
temp <- gsub( "  ", " 0", unlist(time) )
part <- strsplit( temp, split=" ", fixed=T )
date <- paste(part[[1]][2], part[[1]][3], part[[1]][5], sep="-")
timestamp <- part[[1]][4]
timestamp <- strsplit( timestamp, split=":", fixed=T )
as.character(timestamp)
name <- paste0('C:/Users/user/Desktop/codingsite/ntu-cs-x/pttcrawler/gossip',date,timestamp, ".txt")
write(doc, name)
}
sapply(data, getdoc)
library(XML)
library(xml2)
library(rvest)
library(httr)
library(dplyr)
library(RCurl)
from <- 39507
to   <- 39508
prefix = "https://www.ptt.cc/bbs/Gossiping/index"
data <- list()
for( id in c(from:to) )
{
url  <- paste0( prefix, as.character(id), ".html" )
html <-htmlParse( GET(url,set_cookies(over18 = 1)) )
url.list <- xpathSApply( html, "//div[@class='title']/a[@href]", xmlAttrs )
data <- rbind( data, as.matrix(paste('https://www.ptt.cc', url.list, sep='')) )
}
data <- unlist(data)
getdoc <- function(url)
{
get<-GET(url,config=set_cookies("over18"="1"))
get_txt<-content(get,"text")
html<-htmlParse(get_txt)
doc  <- xpathSApply( html, "//div[@id='main-content']", xmlValue )
time <- xpathSApply( html, "//*[@id='main-content']/div[4]/span[2]", xmlValue )
temp <- gsub( "  ", " 0", unlist(time) )
part <- strsplit( temp, split=" ", fixed=T )
date <- paste(part[[1]][2], part[[1]][3], part[[1]][5], sep="-")
timestamp <- part[[1]][4]
timestamp <- strsplit( timestamp, split=":", fixed=T )
as.character(timestamp)
name <- paste0('C:/Users/user/Desktop/codingsite/ntu-cs-x/pttcrawler/gossip/',date,timestamp, ".txt")
write(doc, name)
}
library(XML)
library(xml2)
library(rvest)
library(httr)
library(dplyr)
library(RCurl)
from <- 39507
to   <- 39508
prefix = "https://www.ptt.cc/bbs/Gossiping/index"
data <- list()
for( id in c(from:to) )
{
url  <- paste0( prefix, as.character(id), ".html" )
html <-htmlParse( GET(url,set_cookies(over18 = 1)) )
url.list <- xpathSApply( html, "//div[@class='title']/a[@href]", xmlAttrs )
data <- rbind( data, as.matrix(paste('https://www.ptt.cc', url.list, sep='')) )
}
data <- unlist(data)
getdoc <- function(url)
{
get<-GET(url,config=set_cookies("over18"="1"))
get_txt<-content(get,"text")
html<-htmlParse(get_txt)
doc  <- xpathSApply( html, "//div[@id='main-content']", xmlValue )
time <- xpathSApply( html, "//*[@id='main-content']/div[4]/span[2]", xmlValue )
temp <- gsub( "  ", " 0", unlist(time) )
part <- strsplit( temp, split=" ", fixed=T )
date <- paste(part[[1]][2], part[[1]][3], part[[1]][5], sep="-")
timestamp <- part[[1]][4]
timestamp <- strsplit( timestamp, split=":", fixed=T )
as.character(timestamp)
name <- paste0('C:/Users/user/Desktop/codingsite/ntu-cs-x/pttcrawler/gossip/',date,timestamp, ".txt")
write(doc, name)
}
sapply(data, getdoc)
